{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kcoda\\\\Desktop\\\\Projects\\\\Reflect\\\\src\\\\apps\\\\WeatherApp.jsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useState, useEffect } from 'react';\nimport { getAppSettings } from '../data/apps';\nimport { useTheme } from '../context/ThemeContext';\nimport { useElementSize } from '../hooks/useElementSize';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WeatherApp = ({\n  appId = 'weather'\n}) => {\n  _s();\n  const [weatherData, setWeatherData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [settings, setSettings] = useState(getAppSettings(appId));\n  const {\n    theme\n  } = useTheme();\n  const {\n    ref,\n    width,\n    height\n  } = useElementSize();\n\n  // Compute responsive sizes early to obey hooks rules regardless of early returns\n  const sizes = useMemo(() => {\n    const safeW = Math.max(1, width);\n    const safeH = Math.max(1, height);\n    const verticalRoom = safeH * 0.9;\n    const iconSize = Math.max(28, Math.min(128, Math.floor(verticalRoom * 0.28)));\n    const tempSize = Math.max(22, Math.min(96, Math.floor(verticalRoom * 0.24)));\n    const locationSize = Math.max(14, Math.min(28, Math.floor(verticalRoom * 0.12)));\n    const detailsSize = Math.max(12, Math.min(22, Math.floor(verticalRoom * 0.1)));\n    // Clamp also by width to avoid overflow\n    const maxLineWidth = safeW * 0.96;\n    const clamp = fs => Math.min(fs, maxLineWidth);\n    return {\n      iconSize: clamp(iconSize),\n      tempSize: clamp(tempSize),\n      locationSize,\n      detailsSize\n    };\n  }, [width, height]);\n  useEffect(() => {\n    setSettings(getAppSettings(appId));\n  }, [appId]);\n\n  // Live update when settings change elsewhere\n  useEffect(() => {\n    const handleStorage = () => setSettings(getAppSettings(appId));\n    window.addEventListener('storage', handleStorage);\n    return () => window.removeEventListener('storage', handleStorage);\n  }, [appId]);\n  useEffect(() => {\n    if (settings.location) {\n      fetchWeather();\n    }\n  }, [settings.location, settings.units]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const fetchWeather = async () => {\n    if (!settings.location) return;\n    setLoading(true);\n    setError('');\n    try {\n      // First, geocode the location\n      const geoRes = await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(settings.location)}&count=1&language=en&format=json`);\n      if (!geoRes.ok) throw new Error('Location lookup failed');\n      const geoData = await geoRes.json();\n      if (!geoData.results || geoData.results.length === 0) {\n        throw new Error('Location not found');\n      }\n      const location = geoData.results[0];\n      const {\n        latitude,\n        longitude\n      } = location;\n\n      // Fetch weather data\n      const tempUnit = settings.units === 'celsius' ? 'celsius' : 'fahrenheit';\n      const weatherRes = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current_weather=true&temperature_unit=${tempUnit}&timezone=auto`);\n      if (!weatherRes.ok) throw new Error('Weather fetch failed');\n      const weatherJson = await weatherRes.json();\n      setWeatherData({\n        ...weatherJson.current_weather,\n        location: `${location.name}${location.admin1 ? ', ' + location.admin1 : ''}`\n      });\n    } catch (err) {\n      console.error('Weather fetch error:', err);\n      setError('Unable to fetch weather data');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getWeatherIcon = weatherCode => {\n    const iconMap = {\n      0: '☀️',\n      1: '🌤️',\n      2: '⛅️',\n      3: '☁️',\n      45: '🌫️',\n      48: '🌫️',\n      51: '🌦️',\n      53: '🌦️',\n      55: '🌦️',\n      56: '🌧️',\n      57: '🌧️',\n      61: '🌧️',\n      63: '🌧️',\n      65: '🌧️',\n      66: '🌧️',\n      67: '🌧️',\n      71: '❄️',\n      73: '❄️',\n      75: '❄️',\n      77: '❄️',\n      80: '🌧️',\n      81: '🌧️',\n      82: '🌧️',\n      85: '🌨️',\n      86: '🌨️',\n      95: '⛈️',\n      96: '⛈️',\n      99: '⛈️'\n    };\n    return iconMap[weatherCode] || '❓';\n  };\n  const getWeatherDescription = weatherCode => {\n    const descMap = {\n      0: 'Clear sky',\n      1: 'Mainly clear',\n      2: 'Partly cloudy',\n      3: 'Overcast',\n      45: 'Fog',\n      48: 'Depositing rime fog',\n      51: 'Light drizzle',\n      53: 'Moderate drizzle',\n      55: 'Dense drizzle',\n      56: 'Light freezing drizzle',\n      57: 'Dense freezing drizzle',\n      61: 'Slight rain',\n      63: 'Moderate rain',\n      65: 'Heavy rain',\n      66: 'Light freezing rain',\n      67: 'Heavy freezing rain',\n      71: 'Slight snow',\n      73: 'Moderate snow',\n      75: 'Heavy snow',\n      77: 'Snow grains',\n      80: 'Slight rain showers',\n      81: 'Moderate rain showers',\n      82: 'Violent rain showers',\n      85: 'Slight snow showers',\n      86: 'Heavy snow showers',\n      95: 'Thunderstorm',\n      96: 'Thunderstorm with hail',\n      99: 'Thunderstorm with heavy hail'\n    };\n    return descMap[weatherCode] || 'Unknown';\n  };\n  if (!settings.location) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-full flex items-center justify-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-white/70\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg mb-2\",\n          children: \"\\uD83C\\uDF24\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm\",\n          children: \"Set location in settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-full flex items-center justify-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-white/70\",\n        children: \"Loading weather...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-full flex items-center justify-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-red-400\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg mb-2\",\n          children: \"\\u274C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this);\n  }\n  if (!weatherData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-full flex items-center justify-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-white/70\",\n        children: \"No weather data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this);\n  }\n  const tempUnit = settings.units === 'celsius' ? '°C' : '°F';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: ref,\n    className: \"w-full h-full flex flex-col\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-0.5 leading-none\",\n        style: {\n          color: theme.accent,\n          fontSize: `${sizes.iconSize}px`\n        },\n        children: getWeatherIcon(weatherData.weathercode)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"font-bold leading-none\",\n        style: {\n          color: 'white',\n          fontSize: `${sizes.tempSize}px`\n        },\n        children: [Math.round(weatherData.temperature), tempUnit]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-0.5\",\n        style: {\n          color: 'rgba(255,255,255,0.7)',\n          fontSize: `${sizes.locationSize}px`\n        },\n        children: weatherData.location\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), settings.showDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-0.5\",\n        style: {\n          color: 'rgba(255,255,255,0.6)',\n          fontSize: `${sizes.detailsSize}px`\n        },\n        children: getWeatherDescription(weatherData.weathercode)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 5\n  }, this);\n};\n_s(WeatherApp, \"kqAygNl6KU7u588fdL8f6G1Uorg=\", false, function () {\n  return [useTheme, useElementSize];\n});\n_c = WeatherApp;\nexport default WeatherApp;\nvar _c;\n$RefreshReg$(_c, \"WeatherApp\");","map":{"version":3,"names":["React","useMemo","useState","useEffect","getAppSettings","useTheme","useElementSize","jsxDEV","_jsxDEV","WeatherApp","appId","_s","weatherData","setWeatherData","loading","setLoading","error","setError","settings","setSettings","theme","ref","width","height","sizes","safeW","Math","max","safeH","verticalRoom","iconSize","min","floor","tempSize","locationSize","detailsSize","maxLineWidth","clamp","fs","handleStorage","window","addEventListener","removeEventListener","location","fetchWeather","units","geoRes","fetch","encodeURIComponent","ok","Error","geoData","json","results","length","latitude","longitude","tempUnit","weatherRes","weatherJson","current_weather","name","admin1","err","console","getWeatherIcon","weatherCode","iconMap","getWeatherDescription","descMap","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","accent","fontSize","weathercode","round","temperature","showDetails","_c","$RefreshReg$"],"sources":["C:/Users/Kcoda/Desktop/Projects/Reflect/src/apps/WeatherApp.jsx"],"sourcesContent":["import React, { useMemo, useState, useEffect } from 'react';\r\nimport { getAppSettings } from '../data/apps';\r\nimport { useTheme } from '../context/ThemeContext';\r\nimport { useElementSize } from '../hooks/useElementSize';\r\n\r\nconst WeatherApp = ({ appId = 'weather' }) => {\r\n  const [weatherData, setWeatherData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [settings, setSettings] = useState(getAppSettings(appId));\r\n  const { theme } = useTheme();\r\n  const { ref, width, height } = useElementSize();\r\n\r\n  // Compute responsive sizes early to obey hooks rules regardless of early returns\r\n  const sizes = useMemo(() => {\r\n    const safeW = Math.max(1, width);\r\n    const safeH = Math.max(1, height);\r\n    const verticalRoom = safeH * 0.9;\r\n    const iconSize = Math.max(28, Math.min(128, Math.floor(verticalRoom * 0.28)));\r\n    const tempSize = Math.max(22, Math.min(96, Math.floor(verticalRoom * 0.24)));\r\n    const locationSize = Math.max(14, Math.min(28, Math.floor(verticalRoom * 0.12)));\r\n    const detailsSize = Math.max(12, Math.min(22, Math.floor(verticalRoom * 0.1)));\r\n    // Clamp also by width to avoid overflow\r\n    const maxLineWidth = safeW * 0.96;\r\n    const clamp = (fs) => Math.min(fs, maxLineWidth);\r\n    return { iconSize: clamp(iconSize), tempSize: clamp(tempSize), locationSize, detailsSize };\r\n  }, [width, height]);\r\n\r\n  useEffect(() => {\r\n    setSettings(getAppSettings(appId));\r\n  }, [appId]);\r\n\r\n  // Live update when settings change elsewhere\r\n  useEffect(() => {\r\n    const handleStorage = () => setSettings(getAppSettings(appId));\r\n    window.addEventListener('storage', handleStorage);\r\n    return () => window.removeEventListener('storage', handleStorage);\r\n  }, [appId]);\r\n\r\n  useEffect(() => {\r\n    if (settings.location) {\r\n      fetchWeather();\r\n    }\r\n  }, [settings.location, settings.units]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const fetchWeather = async () => {\r\n    if (!settings.location) return;\r\n    \r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      // First, geocode the location\r\n      const geoRes = await fetch(\r\n        `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(settings.location)}&count=1&language=en&format=json`\r\n      );\r\n      \r\n      if (!geoRes.ok) throw new Error('Location lookup failed');\r\n      \r\n      const geoData = await geoRes.json();\r\n      if (!geoData.results || geoData.results.length === 0) {\r\n        throw new Error('Location not found');\r\n      }\r\n      \r\n      const location = geoData.results[0];\r\n      const { latitude, longitude } = location;\r\n      \r\n      // Fetch weather data\r\n      const tempUnit = settings.units === 'celsius' ? 'celsius' : 'fahrenheit';\r\n      const weatherRes = await fetch(\r\n        `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current_weather=true&temperature_unit=${tempUnit}&timezone=auto`\r\n      );\r\n      \r\n      if (!weatherRes.ok) throw new Error('Weather fetch failed');\r\n      \r\n      const weatherJson = await weatherRes.json();\r\n      setWeatherData({\r\n        ...weatherJson.current_weather,\r\n        location: `${location.name}${location.admin1 ? ', ' + location.admin1 : ''}`\r\n      });\r\n    } catch (err) {\r\n      console.error('Weather fetch error:', err);\r\n      setError('Unable to fetch weather data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getWeatherIcon = (weatherCode) => {\r\n    const iconMap = {\r\n      0: '☀️', 1: '🌤️', 2: '⛅️', 3: '☁️',\r\n      45: '🌫️', 48: '🌫️',\r\n      51: '🌦️', 53: '🌦️', 55: '🌦️',\r\n      56: '🌧️', 57: '🌧️',\r\n      61: '🌧️', 63: '🌧️', 65: '🌧️',\r\n      66: '🌧️', 67: '🌧️',\r\n      71: '❄️', 73: '❄️', 75: '❄️', 77: '❄️',\r\n      80: '🌧️', 81: '🌧️', 82: '🌧️',\r\n      85: '🌨️', 86: '🌨️',\r\n      95: '⛈️', 96: '⛈️', 99: '⛈️'\r\n    };\r\n    return iconMap[weatherCode] || '❓';\r\n  };\r\n\r\n  const getWeatherDescription = (weatherCode) => {\r\n    const descMap = {\r\n      0: 'Clear sky', 1: 'Mainly clear', 2: 'Partly cloudy', 3: 'Overcast',\r\n      45: 'Fog', 48: 'Depositing rime fog',\r\n      51: 'Light drizzle', 53: 'Moderate drizzle', 55: 'Dense drizzle',\r\n      56: 'Light freezing drizzle', 57: 'Dense freezing drizzle',\r\n      61: 'Slight rain', 63: 'Moderate rain', 65: 'Heavy rain',\r\n      66: 'Light freezing rain', 67: 'Heavy freezing rain',\r\n      71: 'Slight snow', 73: 'Moderate snow', 75: 'Heavy snow', 77: 'Snow grains',\r\n      80: 'Slight rain showers', 81: 'Moderate rain showers', 82: 'Violent rain showers',\r\n      85: 'Slight snow showers', 86: 'Heavy snow showers',\r\n      95: 'Thunderstorm', 96: 'Thunderstorm with hail', 99: 'Thunderstorm with heavy hail'\r\n    };\r\n    return descMap[weatherCode] || 'Unknown';\r\n  };\r\n\r\n  if (!settings.location) {\r\n    return (\r\n      <div className=\"w-full h-full flex items-center justify-center p-4\">\r\n        <div className=\"text-center text-white/70\">\r\n          <div className=\"text-lg mb-2\">🌤️</div>\r\n          <div className=\"text-sm\">Set location in settings</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"w-full h-full flex items-center justify-center p-4\">\r\n        <div className=\"text-white/70\">Loading weather...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"w-full h-full flex items-center justify-center p-4\">\r\n        <div className=\"text-center text-red-400\">\r\n          <div className=\"text-lg mb-2\">❌</div>\r\n          <div className=\"text-sm\">{error}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!weatherData) {\r\n    return (\r\n      <div className=\"w-full h-full flex items-center justify-center p-4\">\r\n        <div className=\"text-white/70\">No weather data</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const tempUnit = settings.units === 'celsius' ? '°C' : '°F';\r\n\r\n  \r\n\r\n  return (\r\n    <div ref={ref} className=\"w-full h-full flex flex-col\">\r\n      <div className=\"text-center\">\r\n        <div className=\"mb-0.5 leading-none\" style={{ color: theme.accent, fontSize: `${sizes.iconSize}px` }}>\r\n          {getWeatherIcon(weatherData.weathercode)}\r\n        </div>\r\n        <div className=\"font-bold leading-none\" style={{ color: 'white', fontSize: `${sizes.tempSize}px` }}>\r\n          {Math.round(weatherData.temperature)}{tempUnit}\r\n        </div>\r\n        <div className=\"mt-0.5\" style={{ color: 'rgba(255,255,255,0.7)', fontSize: `${sizes.locationSize}px` }}>\r\n          {weatherData.location}\r\n        </div>\r\n        {settings.showDetails && (\r\n          <div className=\"mt-0.5\" style={{ color: 'rgba(255,255,255,0.6)', fontSize: `${sizes.detailsSize}px` }}>\r\n            {getWeatherDescription(weatherData.weathercode)}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WeatherApp;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}